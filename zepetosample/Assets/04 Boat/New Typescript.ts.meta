fileFormatVersion: 2
guid: d0bb953ecb45eac4283730ed25948836
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    UnityEngine_InputSystem_1 = require(\"UnityEngine.InputSystem\");\r\nconst ZEPETO_Character_Controller_1
    = require(\"ZEPETO.Character.Controller\");\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    UnityEngine = require(\"UnityEngine\");\r\nclass NewTypescript extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.cameraDistance
    = 10;\r\n        this.originSpawnPoint = new UnityEngine_1.Vector3(-16, -5, 0);\r\n       
    this.startPos = UnityEngine_1.Vector2.zero;\r\n        this.curPos = UnityEngine_1.Vector2.zero;\r\n       
    this.isTriggered = false;\r\n        this.isTouchDown = false;\r\n        this.camstartPos
    = UnityEngine_1.Vector2.zero;\r\n        this.camcurPos = UnityEngine_1.Vector2.zero;\r\n   
    }\r\n    CanMove() {\r\n        return this.isTouchDown && !this.isTriggered;\r\n   
    }\r\n    OnEnable() {\r\n        this.playerInput = this.gameObject.GetComponent($typeof(UnityEngine_InputSystem_1.PlayerInput));\r\n   
    }\r\n    Start() {\r\n        //this.touchTriggerAction = this.InputAsset.FindActionMap(\"Player\").FindAction(\"MoveTrigger\");//PrimaryTouchPosition\r\n       
    this.touchPositionAction = this.InputAsset.FindActionMap(\"Player\").FindAction(\"Move\");\r\n       
    this.camtouchPositionAction = this.InputAsset.FindActionMap(\"Player\").FindAction(\"PrimaryTouchPosition\");\r\n       
    this.touchTriggerAction.add_started((context) => {\r\n            this.isTriggered
    = true;\r\n            this.isTouchDown = true;\r\n        });\r\n        this.touchTriggerAction.add_canceled((context)
    => {\r\n            this.isTriggered = false;\r\n            this.isTouchDown
    = false;\r\n        });\r\n        this.touchPositionAction.add_performed((context)
    => {\r\n            console.log(`${this.touch[0].identifier}`);\r\n           
    this.text1.text += \"/\" + UnityEngine.Input.touchCount;\r\n            var conbool
    = true;\r\n            this.curPos = context.ReadValueAsObject();\r\n           
    if (conbool) {\r\n                conbool = false;\r\n                this.startPos
    = this.curPos;\r\n            }\r\n            if (this.isTouchDown) {\r\n               
    this.curPos = context.ReadValueAsObject();\r\n                if (this.isTriggered)
    {\r\n                    this.isTriggered = false;\r\n                    this.startPos
    = this.curPos;\r\n                }\r\n            }\r\n        });\r\n       
    this.camtouchPositionAction.add_performed((context) => {\r\n            console.log(`${this.camcurPos.x}`);\r\n           
    console.log(`${this.touch[1].identifier}`);\r\n            var conbool = true;\r\n           
    this.camcurPos = context.ReadValueAsObject();\r\n            if (conbool) {\r\n               
    conbool = false;\r\n                this.camstartPos = this.camcurPos;\r\n           
    }\r\n            if (this.isTouchDown) {\r\n                this.curPos = context.ReadValueAsObject();\r\n               
    if (this.isTriggered) {\r\n                    this.isTriggered = false;\r\n                   
    this.startPos = this.curPos;\r\n                }\r\n            }\r\n       
    });\r\n        //turn off zepeto camera\r\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.OnAddedLocalPlayer.AddListener(()
    => {\r\n            ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoCamera.gameObject.SetActive(false);\r\n           
    this.myCharacter = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoPlayer.character;\r\n           
    this.customCamera.transform.position = UnityEngine_1.Vector3.op_Addition(this.myCharacter.transform.position,
    this.originSpawnPoint);\r\n            this.StartCoroutine(this.InputControlLoop());\r\n       
    });\r\n    }\r\n    *InputControlLoop() {\r\n        while (true) {\r\n           
    yield new UnityEngine.WaitForEndOfFrame();\r\n            if (this.myCharacter)
    {\r\n                var camRot = UnityEngine_1.Quaternion.Euler(0, UnityEngine.Camera.main.transform.rotation.eulerAngles.y,
    0);\r\n                var moveDir = UnityEngine_1.Vector2.op_Subtraction(this.curPos,
    this.startPos);\r\n                moveDir = UnityEngine_1.Vector2.op_Division(moveDir,
    100);\r\n                if (moveDir.magnitude > 0) {\r\n                   
    if (moveDir.magnitude > 1)\r\n                        moveDir.Normalize();\r\n                   
    //left-right\r\n                    var optMoveDir = new UnityEngine_1.Vector3(moveDir.x,
    0, 0);\r\n                    optMoveDir = UnityEngine_1.Vector3.op_Multiply(optMoveDir,
    UnityEngine_1.Time.deltaTime * 80);\r\n                    this.myCharacter.Move(UnityEngine_1.Quaternion.op_Multiply(camRot,
    optMoveDir));\r\n                }\r\n            }\r\n        }\r\n    }\r\n   
    //follow zepeto character\r\n    LateUpdate() {\r\n        if (null == this.myCharacter)
    {\r\n            return;\r\n        }\r\n        let characterPos = this.myCharacter.transform.position;\r\n       
    //let cameraPosition = new Vector3(characterPos.x - this.cameraDistance, this.customCamera.transform.position.y,
    characterPos.z);\r\n        let cameraPosition = new UnityEngine_1.Vector3(characterPos.x
    - this.cameraDistance, characterPos.y + 1, characterPos.z);\r\n        this.customCamera.transform.position
    = cameraPosition;\r\n    }\r\n}\r\nexports.default = NewTypescript;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTmV3IFR5cGVzY3JpcHQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJOZXcgVHlwZXNjcmlwdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlEQUFtRDtBQUNuRCxxRUFBaUY7QUFFakYsNkVBQXdHO0FBQ3hHLDZDQUErRDtBQUMvRCwyQ0FBMkM7QUFFM0MsTUFBcUIsYUFBYyxTQUFRLHFDQUFxQjtJQUFoRTs7UUFLVyxtQkFBYyxHQUFZLEVBQUUsQ0FBQztRQUc1QixxQkFBZ0IsR0FBYSxJQUFJLHFCQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFFbkQsYUFBUSxHQUFZLHFCQUFPLENBQUMsSUFBSSxDQUFDO1FBQ2pDLFdBQU0sR0FBWSxxQkFBTyxDQUFDLElBQUksQ0FBQztRQU0vQixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUM3QixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUc3QixnQkFBVyxHQUFZLHFCQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3BDLGNBQVMsR0FBWSxxQkFBTyxDQUFDLElBQUksQ0FBQztJQW9IOUMsQ0FBQztJQWhIWSxPQUFPO1FBQ1osT0FBTyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUNqRCxDQUFDO0lBR0QsUUFBUTtRQUNKLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLFNBQUMscUNBQVcsRUFBRyxDQUFDO0lBQ25FLENBQUM7SUFFRCxLQUFLO1FBRUQsb0hBQW9IO1FBQ3BILElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdEYsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUs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","assetPath":"Assets/04
    Boat/New Typescript.ts","manifest":{"properties":[{"assembly":"Unity.InputSystem","name":"InputAsset","type":"UnityEngine.InputSystem.InputActionAsset","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"customCamera","type":"UnityEngine.Camera","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"cameraDistance","type":"System.Single","isArray":false,"initValue":["10"],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.UI","name":"text1","type":"UnityEngine.UI.Text","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"NewTypescript","description":""},"isCompiled":true}'
  typescriptHash: f32c0517622ce090b457f4c89fd0ddb5
  onlyWriteTrigger: 0
